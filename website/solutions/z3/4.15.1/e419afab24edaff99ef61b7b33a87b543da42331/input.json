{"input":"(declare-datatypes () ((Type \n  int \n  string \n  (arrow (dom Type) (rng Type)))))\n(declare-sort Var)\n(declare-datatypes () ((M \n  (lam (bound Var) (body M)) \n  (var (v Var)) \n  (app (fn M) (arg M)))))\n(declare-fun type (M) Type)\n(declare-const x Var)\n(declare-const y Var)\n(define-fun dom ((M M)) Type (dom (type M)))\n(define-fun rng ((M M)) Type (rng (type M)))\n(define-fun type ((x Var)) Type (type (var x)))\n(define-fun app-constraint ((M1 M) (M2 M)) Bool\n  (and (= (dom M1) (type M2))\n          (is-arrow (type M1))\n          (= (type (app M1 M2)) (rng M1))\n  )\n)\n(define-fun lam-constraint ((x Var) (M M)) Bool\n  (= (type (lam x M)) (arrow (type x) (type M)))\n)\n\n(declare-const plus M)\n(assert (= (type plus) (arrow int (arrow int int))))\n(declare-fun ofint (Int) M)\n(assert (= (type (ofint 3)) int))\n(declare-fun ofstring (String) M)\n(declare-const t1 Bool)\n(declare-const t2 Bool)\n(declare-const t3 Bool)\n(declare-const t4 Bool)\n(assert (= (type (ofstring \"a\")) string))\n(define-const x_plus_3 M (app (app plus (var x)) (ofint 3)))\n(assert (= t1 (app-constraint (lam x x_plus_3) (ofstring \"a\"))))\n(assert (= t2 (lam-constraint x x_plus_3)))\n(assert (= t3 (app-constraint (app plus (var x)) (ofint 3))))\n(assert (= t4 (app-constraint plus (var x))))\n(assert-soft t1)\n(assert-soft t2)\n(assert-soft t3)\n(assert-soft t4)\n(check-sat)\n(get-objectives)\n(get-value (t1 t2 t3 t4))\n(get-model)"}
